# ATM Placement Scoring Service

AI-—Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –±–∞–Ω–∫–æ–º–∞—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –ø–µ—à–µ—Ö–æ–¥–Ω–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞.  

–ü—Ä–æ–µ–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ —Ç—Ä–∞—Ñ–∏–∫–µ, —Å–æ–∑–¥–∞–µ—Ç —Å–µ—Ç–∫—É –∑–æ–Ω, –≤—ã—á–∏—Å–ª—è–µ—Ç score –¥–ª—è –∫–∞–∂–¥–æ–π –∑–æ–Ω—ã –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Ç–æ–ø–æ–≤—ã–µ –º–µ—Å—Ç–∞ –¥–ª—è –Ω–æ–≤—ã—Ö –±–∞–Ω–∫–æ–º–∞—Ç–æ–≤. –¢–∞–∫–∂–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å —Ç–µ–ø–ª–æ–≤–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π.

---

## üîπ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
atm_heatmap_project/
‚îÇ
‚îú‚îÄ‚îÄ data/
‚îÇ ‚îú‚îÄ‚îÄ foot_traffic.csv # –î–∞–Ω–Ω—ã–µ –æ –ø–µ—à–µ—Ö–æ–¥–Ω–æ–º —Ç—Ä–∞—Ñ–∏–∫–µ
‚îÇ ‚îî‚îÄ‚îÄ atm_with_coordinates.csv # –î–∞–Ω–Ω—ã–µ –æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –±–∞–Ω–∫–æ–º–∞—Ç–∞—Ö
‚îÇ
‚îú‚îÄ‚îÄ src/
‚îÇ ‚îú‚îÄ‚îÄ init.py
‚îÇ ‚îú‚îÄ‚îÄ data_loader.py # –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ ‚îú‚îÄ‚îÄ feature_engineering.py # –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ (features)
‚îÇ ‚îú‚îÄ‚îÄ grid_aggregation.py # –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã –Ω–∞ —Å–µ—Ç–∫—É
‚îÇ ‚îú‚îÄ‚îÄ scoring_model.py # –†–∞—Å—á–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
‚îÇ ‚îî‚îÄ‚îÄ visualization.py # –°–æ–∑–¥–∞–Ω–∏–µ heatmap
‚îÇ
‚îú‚îÄ‚îÄ api/
‚îÇ ‚îî‚îÄ‚îÄ app.py # FastAPI —Å–µ—Ä–≤–∏—Å
‚îÇ
‚îú‚îÄ‚îÄ main.py # –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ requirements.txt # –°–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îî‚îÄ‚îÄ README.md # –≠—Ç–æ—Ç —Ñ–∞–π–ª

---

## üîπ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```bash
git clone https://github.com/Nurman01/atm_scoring.git
cd atm_scoring

2. –°–æ–∑–¥–∞–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

python -m venv venv

3. –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

Windows:

venv\Scripts\activate

Linux / Mac:

source venv/bin/activate

4. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

pip install -r requirements.txt
üîπ –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ (Python)

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ:

python main.py

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:

–í –∫–æ–Ω—Å–æ–ª–∏ –±—É–¥—É—Ç –ø–æ–∫–∞–∑–∞–Ω—ã —Ç–æ–ø–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –±–∞–Ω–∫–æ–º–∞—Ç–æ–≤.

–í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞: atm_heatmap.html, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

üîπ API (FastAPI)

1. –°–µ—Ä–≤–∏—Å –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ FastAPI, —á—Ç–æ–±—ã —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∏–ª–∏ –¥—Ä—É–≥–æ–π —Å–µ—Ä–≤–∏—Å –º–æ–≥–ª–∏ –ø–æ–ª—É—á–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.

–ó–∞–ø—É—Å–∫ API:

uvicorn api.app:app --reload --port 8000

2. –î–æ—Å—Ç—É–ø–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:

–ú–µ—Ç–æ–¥	URL	–û–ø–∏—Å–∞–Ω–∏–µ
GET	/recommend-atm	–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å heatmap –∏ —Ç–æ–ø–æ–≤—ã–º–∏ –∑–æ–Ω–∞–º–∏ –¥–ª—è –±–∞–Ω–∫–æ–º–∞—Ç–æ–≤
POST	/refresh	–ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∑–∞–Ω–æ–≤–æ (–µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–∏–ª–∏—Å—å)
–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ (curl):
curl -X GET "http://127.0.0.1:8000/recommend-atm" -H "accept: application/json"
–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
{
  "heatmap": [
    {"lat": 51.148603, "lon": 71.44509, "weight": 47256},
    {"lat": 51.14973, "lon": 71.44509, "weight": 42409}
  ],
  "recommended": [
    {"lat": 51.141841, "lon": 71.448683, "atm_score": 0.98},
    {"lat": 51.148603, "lon": 71.446886, "atm_score": 0.95}
  ]
}
üîπ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º

1. –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –æ –ø–µ—à–µ—Ö–æ–¥–Ω–æ–º —Ç—Ä–∞—Ñ–∏–∫–µ (foot_traffic.csv) –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –±–∞–Ω–∫–æ–º–∞—Ç–æ–≤ (atm_with_coordinates.csv).

2. –°–æ–∑–¥–∞—é—Ç—Å—è –Ω–æ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏:

total_traffic ‚Äî —Å—É–º–º–∞—Ä–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫ –ø–æ —Å–µ–≥–º–µ–Ω—Ç—É

traffic_density ‚Äî –ø–ª–æ—Ç–Ω–æ—Å—Ç—å —Ç—Ä–∞—Ñ–∏–∫–∞ –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç

3. –ö–∞—Ä—Ç–∞ –¥–µ–ª–∏—Ç—Å—è –Ω–∞ —Å–µ—Ç–∫—É (200√ó200 –º–µ—Ç—Ä–æ–≤).

4. –î–ª—è –∫–∞–∂–¥–æ–π —è—á–µ–π–∫–∏ —Å—á–∏—Ç–∞–µ—Ç—Å—è score –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç—Ä–∞—Ñ–∏–∫–∞ –∏ –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏.

5. –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –∑–æ–Ω —Ä—è–¥–æ–º —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –±–∞–Ω–∫–æ–º–∞—Ç–∞–º–∏.

6. –í—ã–±–∏—Ä–∞—é—Ç—Å—è —Ç–æ–ø–æ–≤—ã–µ –∑–æ–Ω—ã —Å –≤–∑–∞–∏–º–Ω—ã–º –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º, —á—Ç–æ–±—ã –±–∞–Ω–∫–æ–º–∞—Ç—ã –Ω–µ —Å—Ç–∞–≤–∏–ª–∏—Å—å —Å–ª–∏—à–∫–æ–º –±–ª–∏–∑–∫–æ –¥—Ä—É–≥ –∫ –¥—Ä—É–≥—É.

7. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è heatmap —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ –∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –±–∞–Ω–∫–æ–º–∞—Ç–∞–º–∏.

üîπ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

–í—Å–µ –∑–æ–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –≤–∏–¥–µ —Ç–µ–ø–ª–æ–≤–æ–π –∫–∞—Ä—Ç—ã (YlOrRd), —á–µ–º –±–æ–ª—å—à–µ –ø–µ—à–µ—Ö–æ–¥–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫ ‚Äî —Ç–µ–º —è—Ä—á–µ –∑–æ–Ω–∞.

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∑–æ–Ω—ã –æ—Ç–º–µ—á–µ–Ω—ã –∫—Ä–∞—Å–Ω—ã–º–∏ –∑–≤–µ–∑–¥–∞–º–∏.

–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –±–∞–Ω–∫–æ–º–∞—Ç—ã ‚Äî —Å–∏–Ω–∏–º–∏ –∏–∫–æ–Ω–∫–∞–º–∏.

üîπ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Å–Ω–æ–≤–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º

API –æ—Ç–¥–∞—ë—Ç JSON —Å —Ç–æ–ø–æ–≤—ã–º–∏ –∑–æ–Ω–∞–º–∏ –∏ —Ç–µ–ø–ª–æ–≤–æ–π –∫–∞—Ä—Ç–æ–π.

–§—Ä–æ–Ω—Ç–µ–Ω–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä Vue.js) –ø–æ–ª—É—á–∞–µ—Ç —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ GET /recommend-atm –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç –Ω–∞ –∫–∞—Ä—Ç–µ.

–ë—ç–∫–µ–Ω–¥ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ Go –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å —ç—Ç–æ—Ç —Å–µ—Ä–≤–∏—Å —á–µ—Ä–µ–∑ HTTP –∏–ª–∏ JRPC.

üîπ –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

–ù–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –ø–∞–ø–∫—É venv/ –∏ atm_heatmap.html –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ POST /refresh.

–î–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –±–æ–ª—å—à–µ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏, —Ç–∞–∫ –∫–∞–∫ GeoPandas —Ö—Ä–∞–Ω–∏—Ç –≤—Å–µ –≥–µ–æ–º–µ—Ç—Ä–∏–∏ –≤ –ø–∞–º—è—Ç–∏.


